<div
  class="modal-overlay"
  id="modal-expense-detail"
  onclick="closeModalIfOutside(event, 'modal-expense-detail')"
>
  <div class="modal">
    <div class="modal-handle"></div>
    <div
      style="
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 0.25rem;
      "
    >
      <div class="modal-title" id="ed-name" style="margin-bottom: 0"></div>
      <button
        class="btn btn-ghost btn-sm btn-danger"
        onclick="doDeleteExpense()"
      >
        Delete
      </button>
    </div>
    <div
      id="ed-meta"
      class="mono"
      style="color: var(--muted); font-size: 0.8rem; margin-bottom: 1rem"
    ></div>
    <div
      style="
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.25rem;
      "
    >
      <span id="ed-status" class="status-badge"></span>
      <div style="flex: 1">
        <div class="progress-bar-wrap">
          <div
            class="progress-bar-fill"
            id="ed-progress"
            style="width: 0%"
          ></div>
        </div>
      </div>
      <span
        id="ed-amounts"
        class="mono"
        style="font-size: 0.8rem; color: var(--muted)"
      ></span>
    </div>
    <div
      style="
        font-family: &quot;Syne&quot;, sans-serif;
        font-weight: 700;
        margin-bottom: 0.75rem;
      "
    >
      Contributors
    </div>
    <div id="ed-contributors"></div>
    <div class="divider"></div>
    <div
      style="
        font-family: &quot;Syne&quot;, sans-serif;
        font-weight: 600;
        font-size: 0.9rem;
        margin-bottom: 0.75rem;
      "
    >
      Add Contribution
    </div>
    <label>Person (flat member)</label>
    <select id="ec-person"></select>
    <div style="display: flex; gap: 0.75rem; margin-top: 1rem">
      <div style="flex: 1">
        <label style="margin-top: 0">Amount ($)</label>
        <input
          type="number"
          id="ec-amount"
          placeholder="0.00"
          min="0"
          step="0.01"
          oninput="syncContribInput('amount')"
        />
      </div>
      <div style="flex: 1">
        <label style="margin-top: 0">â€” or % of total</label>
        <input
          type="number"
          id="ec-percent"
          placeholder="e.g. 50"
          min="0"
          max="100"
          step="1"
          oninput="syncContribInput('percent')"
        />
      </div>
    </div>
    <div id="ec-error" class="error-msg" style="display: none"></div>
    <button class="btn btn-primary btn-full" onclick="doAddContribution()">
      Add Contribution
    </button>
  </div>
</div>
